<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App do Auditor</title>
    <link rel="stylesheet" href="apaud_style.css">
</head>
<body>

    <!-- TELA 1: CARREGAMENTO -->
<div id="tela-carregamento" class="tela ativa">
    <div class="container">
        <h1>App de Auditoria</h1>
        <p>Carregue o "Pacote de Auditoria" (.json) para começar.</p>
        
        <!-- REMOVIDO a textarea e o botão. ADICIONADO o input de arquivo estilizado como um botão. -->
        <label for="json-file-input" class="btn-primario btn-carregar-arquivo">
            Selecionar Arquivo de Auditoria
        </label>
        <input type="file" id="json-file-input" accept=".json,application/json" style="display: none;">
        
        <div id="status-carregamento"></div>
    </div>
</div>

    <!-- TELA 2: SELEÇÃO DA AUDITORIA -->
    <div id="tela-selecao" class="tela">
        <div class="container">
            <h2 id="titulo-auditoria"></h2>
            <h3>Selecione a auditoria que deseja iniciar:</h3>
            <div id="lista-planejamentos"></div>
        </div>
    </div>
	
	<!-- NOVA TELA 2.5: CONFIRMAÇÃO DA AUDITORIA -->
<div id="tela-confirmacao" class="tela">
    <div class="container">
        <h2 id="confirmacao-titulo">Preparar Auditoria</h2>
        <div id="confirmacao-departamento"></div>

        <div class="form-grupo">
            <label for="data-auditoria">Data da Realização:</label>
            <input type="date" id="data-auditoria">
        </div>
        
        <div class="form-grupo">
            <label for="auditor-lider-select">Auditor Líder:</label>
            <select id="auditor-lider-select"></select>
        </div>

        <div class="form-grupo">
            <label for="auditor-acomp-select">Auditor Acompanhante:</label>
            <select id="auditor-acomp-select"></select>
        </div>

        <div class="botoes-confirmacao">
            <button id="btn-voltar-selecao" class="btn-secundario">Voltar</button>
            <button id="btn-confirmar-iniciar" class="btn-primario">Confirmar e Iniciar</button>
        </div>
    </div>
</div>

    <!-- TELA 3: EXECUÇÃO DO CHECKLIST -->
<div id="tela-checklist" class="tela">
    <div id="checklist-header">
        <!-- NOVO BOTÃO DE VOLTAR -->
        <button id="btn-voltar-principal" class="btn-header">&lt; Voltar</button>
        <div id="header-titulo">Auditoria</div>
        <div id="header-progresso">0 / 0 (0%)</div>
    </div>
    <div id="checklist-container" class="container">
        <!-- O checklist será renderizado aqui -->
    </div>
</div>

<div id="modal-finalizar" class="modal-finalizar-overlay">
    <div class="modal-finalizar-conteudo">
        <span class="fechar-modal-finalizar">&times;</span>
        <h2>Auditoria Finalizada</h2>
        <p>O arquivo com os resultados da auditoria está pronto para ser baixado. Envie este arquivo para o responsável.</p>
        
        <!-- REMOVIDA a textarea. O botão agora tem outra função. -->
        <button id="btn-baixar-resultado" class="btn-primario btn-grande">Baixar Arquivo de Resultado (.json)</button>
    </div>
</div>
	<!-- Input escondido para upload de arquivos -->
<input type="file" id="media-input" style="display: none;" multiple>

    <script type="module" src="js/apaud_main.js"></script>
</body>
</html>